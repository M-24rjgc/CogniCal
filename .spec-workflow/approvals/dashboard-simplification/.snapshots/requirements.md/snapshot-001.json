{
  "id": "snapshot_1760694212580_41ybq4otq",
  "approvalId": "approval_1760694212515_ng46bn5kk",
  "approvalTitle": "首页仪表盘简化需求文档审批",
  "version": 1,
  "timestamp": "2025-10-17T09:43:32.580Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# 首页仪表盘简化需求文档\r\n\r\n## Introduction\r\n\r\nCogniCal 项目的首页仪表盘当前包含多个功能模块，导致界面信息密度过高，用户反馈首页\"过分冗杂\"，无法快速找到核心功能。本需求旨在通过简化首页布局、增加自定义功能和添加快速入口，提升用户体验，减少信息过载，让用户能够更专注于核心任务。\r\n\r\n## Alignment with Product Vision\r\n\r\n本功能简化与 CogniCal 的产品愿景高度一致，即提供一个简洁、高效、智能的个人任务管理工具。通过简化仪表盘，我们能够：\r\n\r\n1. **提升用户体验**：减少信息过载，让用户能够快速找到核心功能\r\n2. **增强个性化**：允许用户根据自己的需求自定义仪表盘显示内容\r\n3. **保持专业性**：在简化的同时保留高级用户需要的详细功能\r\n4. **支持渐进式使用**：新用户看到简洁界面，高级用户可以逐步启用更多功能\r\n\r\n## Requirements\r\n\r\n### Requirement 1: 默认简化首页布局\r\n\r\n**User Story:** 作为新用户，我希望看到一个简洁的首页，只显示最核心的信息，这样我能够快速了解当前任务状态而不会感到信息过载。\r\n\r\n#### Acceptance Criteria\r\n\r\n1. WHEN 用户首次打开应用 THEN 系统 SHALL 默认只显示3个核心模块：\r\n   - 今日任务概览（显示今天需要完成的任务数量和列表）\r\n   - 生产力评分卡片（简化版，只显示总体评分和趋势）\r\n   - 即将到期任务提醒（显示24小时内到期的任务）\r\n\r\n2. WHEN 用户查看简化版仪表盘 THEN 系统 SHALL 提供\"展开/收起\"按钮控制详细信息显示\r\n\r\n3. WHEN 用户点击\"展开\"按钮 THEN 系统 SHALL 显示更多的任务详情和分析数据\r\n\r\n4. WHEN 用户点击\"收起\"按钮 THEN 系统 SHALL 恢复到简化视图，只显示核心信息\r\n\r\n### Requirement 2: 仪表盘自定义功能\r\n\r\n**User Story:** 作为高级用户，我希望能够自定义仪表盘显示的内容，这样我可以根据自己的工作习惯和需求调整界面布局。\r\n\r\n#### Acceptance Criteria\r\n\r\n1. WHEN 用户访问设置页面 THEN 系统 SHALL 提供\"仪表盘显示设置\"选项\r\n\r\n2. WHEN 用户点击\"仪表盘显示设置\" THEN 系统 SHALL 显示可配置的模块列表：\r\n   - [ ] 工作负载预测横幅\r\n   - [ ] 生产力评分详情\r\n   - [ ] 每周健康概览\r\n   - [ ] 时间分配图表\r\n   - [ ] 效率洞察\r\n   - [ ] 今日专注时长\r\n\r\n3. WHEN 用户选择/取消选择模块 THEN 系统 SHALL 实时保存设置并在仪表盘上反映变化\r\n\r\n4. WHEN 用户选择所有模块 THEN 系统 SHALL 自动启用\"完整模式\"，无需额外开关\r\n\r\n5. WHEN 用户保存设置 THEN 系统 SHALL 将配置存储在 settingsStore.ts 中的 dashboardModules 字段\r\n\r\n### Requirement 3: 快速入口区域\r\n\r\n**User Story:** 作为日常用户，我希望在首页顶部有一个快速入口区域，这样我可以快速访问常用功能而无需导航到其他页面。\r\n\r\n#### Acceptance Criteria\r\n\r\n1. WHEN 用户查看仪表盘 THEN 系统 SHALL 在顶部显示快速入口区域\r\n\r\n2. WHEN 用户查看快速入口 THEN 系统 SHALL 包含以下快捷按钮：\r\n   - 创建任务（打开任务创建对话框）\r\n   - 查看日历（跳转到日历视图）\r\n   - 生成智能规划（跳转到规划页面）\r\n\r\n3. WHEN 用户点击快速入口按钮 THEN 系统 SHALL 执行相应操作或导航到对应页面\r\n\r\n4. WHEN 用户在移动设备上查看 THEN 系统 SHALL 适当调整快速入口区域的布局和大小\r\n\r\n### Requirement 4: 技术实现\r\n\r\n**User Story:** 作为开发者，我需要实现仪表盘简化的技术架构，这样系统能够根据用户设置动态渲染模块。\r\n\r\n#### Acceptance Criteria\r\n\r\n1. WHEN 系统初始化 THEN 在 settingsStore.ts 中 SHALL 添加 dashboardModules 配置字段\r\n\r\n2. WHEN 用户更改仪表盘设置 THEN 系统 SHALL 更新 dashboardModules 配置并持久化存储\r\n\r\n3. WHEN Dashboard.tsx 渲染 THEN 系统 SHALL 根据 dashboardModules 配置动态显示/隐藏相应模块\r\n\r\n4. WHEN 系统加载仪表盘 THEN 系统 SHALL 使用条件渲染和懒加载优化性能\r\n\r\n5. WHEN 用户未自定义设置 THEN 系统 SHALL 应用默认的简化布局配置\r\n\r\n## Non-Functional Requirements\r\n\r\n### Code Architecture and Modularity\r\n\r\n- **Single Responsibility Principle**: 每个仪表盘模块组件应只负责单一功能，如任务概览、生产力评分等\r\n- **Modular Design**: 仪表盘模块应独立开发，可单独启用/禁用，减少模块间依赖\r\n- **Dependency Management**: 仪表盘模块应通过统一的接口与 settingsStore 交互，避免直接依赖\r\n- **Clear Interfaces**: 定义清晰的模块接口，包括显示条件、数据需求和配置选项\r\n\r\n### Performance\r\n\r\n- 仪表盘加载时间应在500ms以内\r\n- 使用懒加载技术，非核心模块延迟加载\r\n- 渲染优化，避免不必要的重新渲染\r\n- 状态管理高效，避免频繁的设置读写操作\r\n\r\n### Security\r\n\r\n- 仪表盘设置应安全存储，防止未授权访问\r\n- 用户配置数据应进行适当验证，防止注入攻击\r\n- 敏感信息不应在仪表盘中显示\r\n\r\n### Reliability\r\n\r\n- 仪表盘设置应可靠保存，不会因应用重启而丢失\r\n- 模块加载失败不应影响其他模块的正常显示\r\n- 提供默认配置，确保即使用户配置损坏也能正常显示\r\n\r\n### Usability\r\n\r\n- 界面响应流畅，用户操作反馈及时\r\n- 配置界面直观易懂，新用户也能轻松使用\r\n- 提供清晰的视觉反馈，指示当前显示状态\r\n- 支持键盘导航和快捷键操作\r\n\r\n### UI/UX Requirements\r\n\r\n- 保持与现有设计风格一致\r\n- 响应式设计，适配不同屏幕尺寸\r\n- 深色/浅色主题完全支持\r\n- 动画效果流畅自然，不干扰用户操作\r\n- 清晰的视觉层次，重要信息突出显示",
  "fileStats": {
    "size": 5911,
    "lines": 131,
    "lastModified": "2025-10-17T09:43:10.533Z"
  },
  "comments": []
}